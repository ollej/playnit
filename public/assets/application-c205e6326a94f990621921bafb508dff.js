!function(t){String.prototype.trim===t&&(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Array.prototype.reduce===t&&(Array.prototype.reduce=function(e){if(void 0===this||null===this)throw new TypeError;var n,i=Object(this),r=i.length>>>0,a=0;if("function"!=typeof e)throw new TypeError;if(0==r&&1==arguments.length)throw new TypeError;if(arguments.length>=2)n=arguments[1];else for(;;){if(a in i){n=i[a++];break}if(++a>=r)throw new TypeError}for(;r>a;)a in i&&(n=e.call(t,n,i[a],a,i)),a++;return n})}();var Zepto=function(){function t(t){return"[object Function]"=={}.toString.call(t)}function e(t){return t instanceof Object}function n(t){return t instanceof Array}function i(t){return"number"==typeof t.length}function r(t){return t.filter(function(t){return t!==y&&null!==t})}function a(t){return t.length>0?[].concat.apply([],t):t}function o(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})}function s(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(t){return t.filter(function(t,e,n){return n.indexOf(t)==e})}function c(t){return t in C?C[t]:C[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function l(t,e){return"number"!=typeof e||N[s(t)]?e:e+"px"}function f(t){var e,n;return T[t]||(e=k.createElement(t),k.body.appendChild(e),n=P(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),T[t]=n),T[t]}function h(t,e){e===y&&A.test(t)&&RegExp.$1,e in _||(e="*");var n=_[e];return n.innerHTML=""+t,j.call(n.childNodes)}function d(t,e){return t=t||S,t.__proto__=d.prototype,t.selector=e||"",t}function p(e,i){if(!e)return d();if(i!==y)return p(i).find(e);if(t(e))return p(k).ready(e);if(e instanceof d)return e;var a;return n(e)?a=r(e):O.indexOf(e.nodeType)>=0||e===window?(a=[e],e=null):A.test(e)?(a=h(e.trim(),RegExp.$1),e=null):a=e.nodeType&&3==e.nodeType?[e]:x(k,e),d(a,e)}function m(t,e){return e===y?p(t):p(t).filter(e)}function g(e,n,i,r){return t(n)?n.call(e,i,r):n}function v(t,e,n){var i=t%2?e:e.parentNode;i&&i.insertBefore(n,t?1==t?i.firstChild:2==t?e:null:e.nextSibling)}function b(t,e){e(t);for(var n in t.childNodes)b(t.childNodes[n],e)}var y,w,x,E,S=[],j=S.slice,k=window.document,T={},C={},P=k.defaultView.getComputedStyle,N={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},A=/^\s*<(\w+)[^>]*>/,O=[1,9,11],R=["after","prepend","before","append"],I=k.createElement("table"),$=k.createElement("tr"),_={tr:k.createElement("tbody"),tbody:I,thead:I,tfoot:I,td:$,th:$,"*":k.createElement("div")},q=/complete|loaded|interactive/,M=/^\.([\w-]+)$/,F=/^#([\w-]+)$/,D=/^[\w-]+$/;return p.extend=function(t){return j.call(arguments,1).forEach(function(e){for(w in e)t[w]=e[w]}),t},p.qsa=x=function(t,e){var n;return t===k&&F.test(e)?(n=t.getElementById(RegExp.$1))?[n]:S:j.call(M.test(e)?t.getElementsByClassName(RegExp.$1):D.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e))},p.isFunction=t,p.isObject=e,p.isArray=n,p.map=function(t,e){var n,r,o,s=[];if(i(t))for(r=0;r<t.length;r++)n=e(t[r],r),null!=n&&s.push(n);else for(o in t)n=e(t[o],o),null!=n&&s.push(n);return a(s)},p.each=function(t,e){var n,r;if(i(t)){for(n=0;n<t.length;n++)if(e(n,t[n])===!1)return t}else for(r in t)if(e(r,t[r])===!1)return t;return t},p.fn={forEach:S.forEach,reduce:S.reduce,push:S.push,indexOf:S.indexOf,concat:S.concat,map:function(t){return p.map(this,function(e,n){return t.call(e,n,e)})},slice:function(){return p(j.apply(this,arguments))},ready:function(t){return q.test(k.readyState)?t(p):k.addEventListener("DOMContentLoaded",function(){t(p)},!1),this},get:function(t){return t===y?this:this[t]},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return this.forEach(function(e,n){t.call(e,n,e)}),this},filter:function(t){return p([].filter.call(this,function(e){return e.parentNode&&x(e.parentNode,t).indexOf(e)>=0}))},end:function(){return this.prevObject||p()},andSelf:function(){return this.add(this.prevObject||p())},add:function(t,e){return p(u(this.concat(p(t,e))))},is:function(t){return this.length>0&&p(this[0]).filter(t).length>0},not:function(e){var n=[];if(t(e)&&e.call!==y)this.each(function(t){e.call(this,t)||n.push(this)});else{var r="string"==typeof e?this.filter(e):i(e)&&t(e.item)?j.call(e):p(e);this.forEach(function(t){r.indexOf(t)<0&&n.push(t)})}return p(n)},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!e(t)?t:p(t)},last:function(){var t=this[this.length-1];return t&&!e(t)?t:p(t)},find:function(t){var e;return e=1==this.length?x(this[0],t):this.map(function(){return x(this,t)}),p(e)},closest:function(t,e){var n=this[0],i=x(e||k,t);for(i.length||(n=null);n&&i.indexOf(n)<0;)n=n!==e&&n!==k&&n.parentNode;return p(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=p.map(n,function(t){return(t=t.parentNode)&&t!==k&&e.indexOf(t)<0?(e.push(t),t):void 0});return m(e,t)},parent:function(t){return m(u(this.pluck("parentNode")),t)},children:function(t){return m(this.map(function(){return j.call(this.children)}),t)},siblings:function(t){return m(this.map(function(t,e){return j.call(e.parentNode.children).filter(function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return this.map(function(){return this[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null),"none"==P(this,"").getPropertyValue("display")&&(this.style.display=f(this.nodeName))})},replaceWith:function(t){return this.each(function(){p(this).before(t).remove()})},wrap:function(t){return this.each(function(){p(this).wrapAll(p(t)[0].cloneNode(!1))})},wrapAll:function(t){return this[0]&&(p(this[0]).before(t=p(t)),t.append(this)),this},unwrap:function(){return this.parent().each(function(){p(this).replaceWith(p(this).children())}),this},hide:function(){return this.css("display","none")},toggle:function(t){return(t===y?"none"==this.css("display"):t)?this.show():this.hide()},prev:function(){return p(this.pluck("previousElementSibling"))},next:function(){return p(this.pluck("nextElementSibling"))},html:function(t){return t===y?this.length>0?this[0].innerHTML:null:this.each(function(e){var n=this.innerHTML;p(this).empty().append(g(this,t,e,n))})},text:function(t){return t===y?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=t})},attr:function(t,n){var i;return"string"==typeof t&&n===y?0==this.length?y:"value"==t&&"INPUT"==this[0].nodeName?this.val():!(i=this[0].getAttribute(t))&&t in this[0]?this[0][t]:i:this.each(function(i){if(e(t))for(w in t)this.setAttribute(w,t[w]);else this.setAttribute(t,g(this,n,i,this.getAttribute(t)))})},removeAttr:function(t){return this.each(function(){this.removeAttribute(t)})},data:function(t,e){return this.attr("data-"+t,e)},val:function(t){return t===y?this.length>0?this[0].value:null:this.each(function(e){this.value=g(this,t,e,this.value)})},offset:function(){if(0==this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width,height:t.height}},css:function(t,e){if(e===y&&"string"==typeof t)return 0==this.length?y:this[0].style[o(t)]||P(this[0],"").getPropertyValue(t);var n="";for(w in t)n+=s(w)+":"+l(w,t[w])+";";return"string"==typeof t&&(n=s(t)+":"+l(t,e)),this.each(function(){this.style.cssText+=";"+n})},index:function(t){return t?this.indexOf(p(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return this.length<1?!1:c(t).test(this[0].className)},addClass:function(t){return this.each(function(e){E=[];var n=this.className,i=g(this,t,e,n);i.split(/\s+/g).forEach(function(t){p(this).hasClass(t)||E.push(t)},this),E.length&&(this.className+=(n?" ":"")+E.join(" "))})},removeClass:function(t){return this.each(function(e){return t===y?this.className="":(E=this.className,g(this,t,e,E).split(/\s+/g).forEach(function(t){E=E.replace(c(t)," ")}),this.className=E.trim(),void 0)})},toggleClass:function(t,e){return this.each(function(n){var i=g(this,t,n,this.className);(e===y?!p(this).hasClass(i):e)?p(this).addClass(i):p(this).removeClass(i)})}},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings".split(",").forEach(function(t){var e=p.fn[t];p.fn[t]=function(){var t=e.apply(this,arguments);return t.prevObject=this,t}}),["width","height"].forEach(function(t){p.fn[t]=function(e){var n,i=t.replace(/./,function(t){return t[0].toUpperCase()});return e===y?this[0]==window?window["inner"+i]:this[0]==k?k.documentElement["offset"+i]:(n=this.offset())&&n[t]:this.each(function(n){var i=p(this);i.css(t,g(this,e,n,i[t]()))})}}),R.forEach(function(t,n){p.fn[t]=function(t){var i=e(t)?t:h(t);if("length"in i&&!i.nodeType||(i=[i]),i.length<1)return this;var r=this.length,a=r>1,o=2>n;return this.each(function(t,e){for(var s=0;s<i.length;s++){var u=i[o?i.length-s-1:s];b(u,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||window.eval.call(window,t.innerHTML)}),a&&r-1>t&&(u=u.cloneNode(!0)),v(n,e,u)}})};var i=n%2?t+"To":"insert"+(n?"Before":"After");p.fn[i]=function(e){return p(e)[t](this),this}}),d.prototype=p.fn,p}();window.Zepto=Zepto,"$"in window||(window.$=Zepto),function(t){function e(t){return t._zid||(t._zid=f++)}function n(t,n,a,o){if(n=i(n),n.ns)var s=r(n.ns);return(l[e(t)]||[]).filter(function(t){return!(!t||n.e&&t.e!=n.e||n.ns&&!s.test(t.ns)||a&&t.fn!=a||o&&t.sel!=o)})}function i(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function r(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function a(e,n,i){t.isObject(e)?t.each(e,i):e.split(/\s/).forEach(function(t){i(t,n)})}function o(n,r,o,s,u){var c=e(n),f=l[c]||(l[c]=[]);a(r,o,function(e,r){var a=u&&u(r,e),o=a||r,c=function(t){var e=o.apply(n,[t].concat(t.data));return e===!1&&t.preventDefault(),e},l=t.extend(i(e),{fn:r,proxy:c,sel:s,del:a,i:f.length});f.push(l),n.addEventListener(l.e,c,!1)})}function s(t,i,r,o){var s=e(t);a(i||"",r,function(e,i){n(t,e,i,o).forEach(function(e){delete l[s][e.i],t.removeEventListener(e.e,e.proxy,!1)})})}function u(e){var n=t.extend({originalEvent:e},e);return t.each(m,function(t,i){n[t]=function(){return this[i]=d,e[t].apply(e,arguments)},n[i]=p}),n}function c(t){if(!("defaultPrevented"in t)){t.defaultPrevented=!1;var e=t.preventDefault;t.preventDefault=function(){this.defaultPrevented=!0,e.call(this)}}}var l=(t.qsa,{}),f=1,h={};h.click=h.mousedown=h.mouseup=h.mousemove="MouseEvents",t.event={add:o,remove:s},t.fn.bind=function(t,e){return this.each(function(){o(this,t,e)})},t.fn.unbind=function(t,e){return this.each(function(){s(this,t,e)})},t.fn.one=function(t,e){return this.each(function(n,i){o(this,t,e,null,function(t,e){return function(){var n=t.apply(i,arguments);return s(i,e,t),n}})})};var d=function(){return!0},p=function(){return!1},m={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,n,i){return this.each(function(r,a){o(a,n,i,e,function(n){return function(i){var r,o=t(i.target).closest(e,a).get(0);return o?(r=t.extend(u(i),{currentTarget:o,liveFired:a}),n.apply(o,[r].concat([].slice.call(arguments,1)))):void 0}})})},t.fn.undelegate=function(t,e,n){return this.each(function(){s(this,e,n,t)})},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,i){return void 0===n||t.isFunction(n)?this.bind(e,n):this.delegate(n,e,i)},t.fn.off=function(e,n,i){return void 0===n||t.isFunction(n)?this.unbind(e,n):this.undelegate(n,e,i)},t.fn.trigger=function(e,n){return"string"==typeof e&&(e=t.Event(e)),c(e),e.data=n,this.each(function(){this.dispatchEvent(e)})},t.fn.triggerHandler=function(e,i){var r,a;return this.each(function(o,s){r=u("string"==typeof e?t.Event(e):e),r.data=i,r.target=s,t.each(n(s,e.type||e),function(t,e){return a=e.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),a},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return this.bind(e,t)}}),["focus","blur"].forEach(function(e){t.fn[e]=function(t){if(t)this.bind(e,t);else if(this.length)try{this.get(0)[e]()}catch(n){}return this}}),t.Event=function(t,e){var n=document.createEvent(h[t]||"Events"),i=!0;if(e)for(var r in e)"bubbles"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0,null,null,null,null,null,null,null,null,null,null,null,null),n}}(Zepto),function(t){function e(t){var e=this.os={},n=this.browser={},i=t.match(/WebKit\/([\d.]+)/),r=t.match(/(Android)\s+([\d.]+)/),a=t.match(/(iPad).*OS\s([\d_]+)/),o=!a&&t.match(/(iPhone\sOS)\s([\d_]+)/),s=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),u=s&&t.match(/TouchPad/),c=t.match(/(BlackBerry).*Version\/([\d.]+)/);i&&(n.version=i[1]),n.webkit=!!i,r&&(e.android=!0,e.version=r[2]),o&&(e.ios=!0,e.version=o[2].replace(/_/g,"."),e.iphone=!0),a&&(e.ios=!0,e.version=a[2].replace(/_/g,"."),e.ipad=!0),s&&(e.webos=!0,e.version=s[2]),u&&(e.touchpad=!0),c&&(e.blackberry=!0,e.version=c[2])}e.call(t,navigator.userAgent),t.__detect=e}(Zepto),function(t,e){function n(t){return t.toLowerCase()}function i(t){return r?r+t:n(t)}var r,a="",o={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},s=window.document,u=s.createElement("div"),c=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;t.each(o,function(t,i){return u.style[t+"TransitionProperty"]!==e?(a="-"+n(t)+"-",r=i,!1):void 0}),t.fx={off:r===e&&u.style.transitionProperty===e,cssPrefix:a,transitionEnd:i("TransitionEnd"),animationEnd:i("AnimationEnd")},t.fn.animate=function(e,n,i,r){return t.isObject(n)&&(i=n.easing,r=n.complete,n=n.duration),n&&(n/=1e3),this.anim(e,n,i,r)},t.fn.anim=function(n,i,r,o){var s,u,l,f={},h=this,d=t.fx.transitionEnd;if(i===e&&(i=.4),t.fx.off&&(i=0),"string"==typeof n)f[a+"animation-name"]=n,f[a+"animation-duration"]=i+"s",d=t.fx.animationEnd;else{for(u in n)c.test(u)?(s||(s=[]),s.push(u+"("+n[u]+")")):f[u]=n[u];s&&(f[a+"transform"]=s.join(" ")),t.fx.off||(f[a+"transition"]="all "+i+"s "+(r||""))}return l=function(){var e={};e[a+"transition"]=e[a+"animation-name"]="none",t(this).css(e),o&&o.call(this)},i>0&&this.one(d,l),setTimeout(function(){h.css(f),0>=i&&setTimeout(function(){h.each(function(){l.call(this)})},0)},0),this},u=null}(Zepto),function(t){function e(e,n,i){var r=t.Event(n);return t(e).trigger(r,i),!r.defaultPrevented}function n(t,n,i,r){return t.global?e(n||m,i,r):void 0}function i(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function r(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function a(t,e){var i=e.context;return e.beforeSend.call(i,t,e)===!1||n(e,i,"ajaxBeforeSend",[t,e])===!1?!1:(n(e,i,"ajaxSend",[t,e]),void 0)}function o(t,e,i){var r=i.context,a="success";i.success.call(r,t,a,e),n(i,r,"ajaxSuccess",[e,i,t]),u(a,e,i)}function s(t,e,i,r){var a=r.context;r.error.call(a,i,e,t),n(r,a,"ajaxError",[i,r,t]),u(e,i,r)}function u(t,e,i){var a=i.context;i.complete.call(a,e,t),n(i,a,"ajaxComplete",[e,i]),r(i)}function c(){}function l(e,n,i,r){var a=t.isArray(n);t.each(n,function(n,o){r&&(n=i?r:r+"["+(a?"":n)+"]"),!r&&a?e.add(o.name,o.value):(i?t.isArray(o):p(o))?l(e,o,i,n):e.add(n,o)})}var f,h,d=0,p=t.isObject,m=window.document;t.active=0,t.ajaxJSONP=function(e){var n,i="jsonp"+ ++d,r=m.createElement("script"),a=function(){t(r).remove(),i in window&&(window[i]=c),u(s,e,"abort")},s={abort:a};return window[i]=function(a){clearTimeout(n),t(r).remove(),delete window[i],o(a,s,e)},r.src=e.url.replace(/=\?/,"="+i),t("head").append(r),e.timeout>0&&(n=setTimeout(function(){s.abort(),u(s,e,"timeout")},e.timeout)),s},t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0},t.ajax=function(e){var n=t.extend({},e||{});for(f in t.ajaxSettings)void 0===n[f]&&(n[f]=t.ajaxSettings[f]);if(i(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host),/=\?/.test(n.url))return t.ajaxJSONP(n);if(n.url||(n.url=window.location.toString()),n.data&&!n.contentType&&(n.contentType="application/x-www-form-urlencoded"),p(n.data)&&(n.data=t.param(n.data)),n.type.match(/get/i)&&n.data){var r=n.data;n.url.match(/\?.*=/)?r="&"+r:"?"!=r[0]&&(r="?"+r),n.url+=r}var u,l=n.accepts[n.dataType],d={},m=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,g=t.ajaxSettings.xhr();n.crossDomain||(d["X-Requested-With"]="XMLHttpRequest"),l&&(d.Accept=l),n.headers=t.extend(d,n.headers||{}),g.onreadystatechange=function(){if(4==g.readyState){clearTimeout(u);var t,e=!1;if(g.status>=200&&g.status<300||0==g.status&&"file:"==m){if("application/json"!=l||/^\s*$/.test(g.responseText))t=g.responseText;else try{t=JSON.parse(g.responseText)}catch(i){e=i}e?s(e,"parsererror",g,n):o(t,g,n)}else s(null,"error",g,n)}},g.open(n.type,n.url,!0),n.contentType&&(n.headers["Content-Type"]=n.contentType);for(h in n.headers)g.setRequestHeader(h,n.headers[h]);return a(g,n)===!1?(g.abort(),!1):(n.timeout>0&&(u=setTimeout(function(){g.onreadystatechange=c,g.abort(),s(null,"timeout",g,n)},n.timeout)),g.send(n.data),g)},t.get=function(e,n){return t.ajax({url:e,success:n})},t.post=function(e,n,i,r){return t.isFunction(n)&&(r=r||i,i=n,n=null),t.ajax({type:"POST",url:e,data:n,success:i,dataType:r})},t.getJSON=function(e,n){return t.ajax({url:e,success:n,dataType:"json"})},t.fn.load=function(e,n){if(!this.length)return this;var i,r=this,a=e.split(/\s/);return a.length>1&&(e=a[0],i=a[1]),t.get(e,function(e){r.html(i?t(m.createElement("div")).html(e).find(i).html():e),n&&n.call(r)}),this};var g=encodeURIComponent;t.param=function(t,e){var n=[];return n.add=function(t,e){this.push(g(t)+"="+g(e))},l(n,t,e),n.join("&").replace("%20","+")}}(Zepto),function(t){t.fn.serializeArray=function(){var e,n=[];return t(Array.prototype.slice.call(this.get(0).elements)).each(function(){e=t(this);var i=e.attr("type");!this.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||this.checked)&&n.push({name:e.attr("name"),value:e.val()})}),n},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.defaultPrevented||this.get(0).submit()}return this}}(Zepto),function(t,e){var n=function(){var e=t._data(document,"events");return e&&e.click&&t.grep(e.click,function(t){return"rails"===t.namespace}).length};n()&&t.error("jquery-ujs has already been loaded!");var i;t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var r,a,o,s,u,c,l,f;if(i.fire(n,"ajax:before")){if(s=n.data("cross-domain"),u=s===e?null:s,c=n.data("with-credentials")||null,l=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){r=n.attr("method"),a=n.attr("action"),o=n.serializeArray();var h=n.data("ujs:submit-button");h&&(o.push(h),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(r=n.data("method"),a=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(r=n.data("method"),a=i.href(n),o=n.data("params")||null);f={type:r||"GET",data:o,dataType:l,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),i.fire(n,"ajax:beforeSend",[t,r])},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},xhrFields:{withCredentials:c},crossDomain:u},a&&(f.url=a);var d=i.ajax(f);return n.trigger("ajax:send",d),d}return!1},handleMethod:function(n){var r=i.href(n),a=n.data("method"),o=n.attr("target"),s=t("meta[name=csrf-token]").attr("content"),u=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+r+'"></form>'),l='<input name="_method" value="'+a+'" type="hidden" />';u!==e&&s!==e&&(l+='<input name="'+u+'" value="'+s+'" type="hidden" />'),o&&c.attr("target",o),c.hide().append(l).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(i.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(i.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),r=!1;return n?(i.fire(t,"confirm")&&(r=i.confirm(n),e=i.fire(t,"confirm:complete",[r])),r&&e):!0},blankInputs:function(e,n,i){var r,a,o=t(),s=n||"input,textarea",u=e.find(s);return u.each(function(){if(r=t(this),a=r.is(":checkbox,:radio")?r.is(":checked"):r.val(),!a==!i){if(r.is(":radio")&&u.filter('input:radio:checked[name="'+r.attr("name")+'"]').length)return!0;o=o.add(r)}}),o.length?o:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,i){var r=n.data("events"),a=!0;return r!==e&&r.submit!==e&&t.each(r.submit,function(t,e){return"function"==typeof e.handler?a=e.handler(i):void 0}),a},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.data("ujs:enable-with",!1)),t.unbind("click.railsDisable")}},i.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),t(document).delegate(i.linkClickSelector,"click.rails",function(n){var r=t(this),a=r.data("method"),o=r.data("params");if(!i.allowAction(r))return i.stopEverything(n);if(r.is(i.linkDisableSelector)&&i.disableElement(r),r.data("remote")!==e){if(!(!n.metaKey&&!n.ctrlKey||a&&"GET"!==a||o))return!0;var s=i.handleRemote(r);return s===!1?i.enableElement(r):s.error(function(){i.enableElement(r)}),!1}return r.data("method")?(i.handleMethod(r),!1):void 0}),t(document).delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),t(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var r=t(this),a=r.data("remote")!==e,o=i.blankInputs(r,i.requiredInputSelector),s=i.nonBlankInputs(r,i.fileInputSelector);if(!i.allowAction(r))return i.stopEverything(n);if(o&&r.attr("novalidate")==e&&i.fire(r,"ajax:aborted:required",[o]))return i.stopEverything(n);if(a){if(s){setTimeout(function(){i.disableFormElements(r)},13);var u=i.fire(r,"ajax:aborted:file",[s]);return u||setTimeout(function(){i.enableFormElements(r)},13),u}return!t.support.submitBubbles&&t().jquery<"1.7"&&i.callFormSubmitBindings(r,n)===!1?i.stopEverything(n):(i.handleRemote(r),!1)}setTimeout(function(){i.disableFormElements(r)},13)}),t(document).delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var r=n.attr("name"),a=r?{name:r,value:n.val()}:null;n.closest("form").data("ujs:submit-button",a)}),t(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),t(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){csrf_token=t("meta[name=csrf-token]").attr("content"),csrf_param=t("meta[name=csrf-param]").attr("content"),t('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t,n){this.sel=t,this.callback=n,this.locate=e(this.locate,this),this.gotNoPosition=e(this.gotNoPosition,this),this.gotPosition=e(this.gotPosition,this),this.div=$(t),this.callback=n,this.locate()}return t.prototype.gotPosition=function(t){return this.position=t,this.div.length>0&&this.addMap(t),null!=this.callback?this.callback.call(this,t):void 0},t.prototype.gotNoPosition=function(t){return console.log(t)},t.prototype.getPosition=function(){return this.position},t.prototype.addMap=function(t){var e,n,i,r,a;return e=$("<div>",{id:"mapcanvas",width:640,height:480}),n=new google.maps.LatLng(t.coords.latitude,t.coords.longitude),a={zoom:15,center:n,mapTypeControl:!1,navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL},mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(e[0],a),r=new google.maps.Marker({position:n,map:i,title:"You are here! (at least within a "+t.coords.accuracy+" meter radius)"}),this.div.replaceWith(e)},t.prototype.locate=function(){return navigator.geolocation?navigator.geolocation.getCurrentPosition(this.gotPosition,this.gotNoPosition):console.log("not supported")},t}(),("undefined"!=typeof exports&&null!==exports?exports:this).GeoLocator=t}.call(this),function(){}.call(this);